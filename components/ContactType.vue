<template>
  <div class="contact-type">
    <div class="box">
        <div class="wxbtn" v-if="locale == 'zh'" @click="showWx()" >
          <svg class="icon" viewBox="0 0 1024 1024" width="32" height="32"><path d="M849.92 51.2H174.08c-67.866 0-122.88 55.014-122.88 122.88v675.84c0 67.866 55.014 122.88 122.88 122.88h675.84c67.866 0 122.88-55.014 122.88-122.88V174.08c0-67.866-55.014-122.88-122.88-122.88zM512.015 819.21h-.117c-55.127-.02-109.205-14.812-156.355-42.808l-11.233-6.651-116.27 30.48 31.047-113.311-7.316-11.623A306.422 306.422 0 0 1 204.8 511.852c.077-169.319 137.882-307.062 307.313-307.062 82.068.02 159.18 32.005 217.185 90.05 58.01 58.046 89.917 135.214 89.902 217.262-.061 169.35-137.861 307.108-307.185 307.108z" fill="#40C351"></path><path d="M680.5 589.21c-9.232-4.629-54.641-26.962-63.11-30.03s-14.618-4.607-20.792 4.63c-6.154 9.23-23.844 30.038-29.24 36.187-5.392 6.17-10.778 6.948-20.015 2.32-9.22-4.639-38.968-14.372-74.26-45.83-27.448-24.468-45.978-54.696-51.374-63.943-5.392-9.226-.584-14.228 4.05-18.842 4.147-4.147 9.226-10.782 13.86-16.179 4.613-5.391 6.154-9.247 9.226-15.396 3.077-6.174 1.536-11.56-.778-16.179-2.279-4.633-20.224-50.299-28.442-68.562-6.912-15.375-14.193-15.687-20.792-15.964-5.392-.23-11.54-.215-17.695-.215-6.15 0-16.154 2.32-24.627 11.566-8.469 9.247-32.333 31.575-32.333 77.01 0 45.44 33.09 89.344 37.704 95.503 4.613 6.15 63.892 102.37 157.752 139.392 78.003 30.761 93.89 24.648 110.827 23.112 16.943-1.53 54.641-22.318 62.331-43.899 7.696-21.56 7.696-40.038 5.397-43.888-2.314-3.86-8.464-6.155-17.69-10.793z" fill="#40C351"></path></svg>
          <p>
            <span v-for="(word, index) in chatNowWords" :key="index" class="chat-word">
              {{ word }}
            </span>
          </p>
        </div>
        <a v-else target="_blank" :href="'https://api.whatsapp.com/send?phone=8619859013937&text=Hi%20Lizzy%2CI%20want%20to%20know%20more%20detail%20information'+fullUrlString">
          <svg class="icon" viewBox="0 0 1024 1024" width="32" height="32"><path d="M849.92 51.2H174.08c-67.866 0-122.88 55.014-122.88 122.88v675.84c0 67.866 55.014 122.88 122.88 122.88h675.84c67.866 0 122.88-55.014 122.88-122.88V174.08c0-67.866-55.014-122.88-122.88-122.88zM512.015 819.21h-.117c-55.127-.02-109.205-14.812-156.355-42.808l-11.233-6.651-116.27 30.48 31.047-113.311-7.316-11.623A306.422 306.422 0 0 1 204.8 511.852c.077-169.319 137.882-307.062 307.313-307.062 82.068.02 159.18 32.005 217.185 90.05 58.01 58.046 89.917 135.214 89.902 217.262-.061 169.35-137.861 307.108-307.185 307.108z" fill="#40C351"></path><path d="M680.5 589.21c-9.232-4.629-54.641-26.962-63.11-30.03s-14.618-4.607-20.792 4.63c-6.154 9.23-23.844 30.038-29.24 36.187-5.392 6.17-10.778 6.948-20.015 2.32-9.22-4.639-38.968-14.372-74.26-45.83-27.448-24.468-45.978-54.696-51.374-63.943-5.392-9.226-.584-14.228 4.05-18.842 4.147-4.147 9.226-10.782 13.86-16.179 4.613-5.391 6.154-9.247 9.226-15.396 3.077-6.174 1.536-11.56-.778-16.179-2.279-4.633-20.224-50.299-28.442-68.562-6.912-15.375-14.193-15.687-20.792-15.964-5.392-.23-11.54-.215-17.695-.215-6.15 0-16.154 2.32-24.627 11.566-8.469 9.247-32.333 31.575-32.333 77.01 0 45.44 33.09 89.344 37.704 95.503 4.613 6.15 63.892 102.37 157.752 139.392 78.003 30.761 93.89 24.648 110.827 23.112 16.943-1.53 54.641-22.318 62.331-43.899 7.696-21.56 7.696-40.038 5.397-43.888-2.314-3.86-8.464-6.155-17.69-10.793z" fill="#40C351"></path></svg>
          <p>
            <span v-for="(word, index) in chatNowWords" :key="index" class="chat-word">
              {{ word }}
            </span>
          </p>
        </a>
    </div>
    <div class="box">
      <a target="_blank" href="mailto:gma@dinosawmachine.com">
        <svg class="icon" viewBox="0 0 1024 1024" width="32" height="32"><path d="M940.8 202.9H83.6c-10.9 0-19.7 8.8-19.7 19.7v578.8c0 10.9 8.8 19.7 19.7 19.7h857.2c10.9 0 19.7-8.8 19.7-19.7V222.6c0-10.9-8.8-19.7-19.7-19.7zm-31.2 21.9-305.1 305c-52.9-45.5-131.8-45.5-184.7 0l-305-305h794.8zM516.8 617.3c-2.8 1.7-6.4 1.7-9.2 0l-72-72c44.2-36.8 109-36.8 153.2 0l-72 72zm421.8 181.9H85.7V225.8c.9 1.5 1.9 2.9 3.2 4.2l409.3 409.3c4 4 9.5 6.1 15.2 5.7 4.9-.3 9.6-2.6 13.1-6.1l409-409c1.3-1.3 2.3-2.7 3.2-4.2v573.5z"></path></svg>
          <p>{{ contentDetail.email_text }}</p>
      </a>
      <NuxtLink :to="localePath('/contact')" target="_blank">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 26 26" width="28" height="28">
          <path d="M 7 17.868 L 16.917 17.868 C 17.239 17.868 17.5 17.606 17.5 17.284 C 17.5 16.962 17.239 16.701 16.917 16.701 L 7 16.701 C 6.678 16.701 6.417 16.962 6.417 17.284 C 6.417 17.606 6.678 17.868 7 17.868 Z M 7 10.284 L 11.083 10.284 C 11.405 10.284 11.667 10.023 11.667 9.701 C 11.667 9.379 11.405 9.118 11.083 9.118 L 7 9.118 C 6.678 9.118 6.417 9.379 6.417 9.701 C 6.417 10.023 6.678 10.284 7 10.284 Z M 12.419 14.414 C 12.647 14.64 13.014 14.64 13.242 14.414 L 25.492 2.164 C 25.69 1.933 25.677 1.588 25.461 1.372 C 25.246 1.157 24.901 1.143 24.669 1.342 L 12.419 13.592 C 12.193 13.819 12.193 14.187 12.419 14.414 Z" fill="rgb(0, 0, 0)"></path>
          <path d="M 24.868 9.368 C 24.713 9.368 24.564 9.43 24.455 9.539 C 24.346 9.649 24.284 9.797 24.284 9.952 L 24.284 23.917 C 24.327 24.335 24.179 24.751 23.881 25.048 C 23.584 25.345 23.168 25.493 22.75 25.451 L 5.25 25.451 C 4.288 25.451 3.284 24.868 3.284 23.923 L 3.284 4.083 C 3.369 3.035 4.202 2.203 5.25 2.118 L 16.806 2.118 C 17.128 2.118 17.389 1.856 17.389 1.534 C 17.389 1.212 17.128 0.951 16.806 0.951 L 5.25 0.951 C 3.557 1.038 2.205 2.391 2.118 4.083 L 2.118 23.917 C 2.118 25.527 3.646 26.618 5.256 26.618 L 22.75 26.618 C 23.478 26.659 24.189 26.387 24.705 25.872 C 25.22 25.356 25.492 24.645 25.451 23.917 L 25.451 9.952 C 25.451 9.797 25.389 9.649 25.28 9.539 C 25.171 9.43 25.022 9.368 24.868 9.368 Z" fill="rgb(0, 0, 0)"></path>
        </svg>
          <p>{{contentDetail.contact_text}}</p>
        </NuxtLink>
    </div>
  </div>
</template>

<script setup>
import { useRequestURL } from '#app';
import { useLocalePath } from '#i18n'
import { useI18n } from 'vue-i18n'
const { locale } = useI18n()
const localePath = useLocalePath()
const fullUrlString = useRequestURL().href;
const props = defineProps({
  contentDetail: {
      type: Object,
      default: () => {}
  }
})
const chatNowWords = computed((()=>{
      if (!props.contentDetail.chat_now_text) return [];
      return props.contentDetail.chat_now_text.split(' ').filter(word => word.trim() !== '');
}))

const emit = defineEmits(['showWx']);
const showWx = ()=>{
    emit('showWx')
}

</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped lang="scss">
    .contact-type{
      flex: none;
      height: 289px;
      left: 0;
      position: fixed;
      top: 409px;
      width: 100px;
      padding:0 10px;
      z-index: 10;
      .box{
        
        border-bottom-width: 0.5px;
        border-color: rgba(136, 136, 136, 0.08);
        border-left-width: 0.5px;
        border-right-width: 0.5px;
        border-style: solid;
        border-top-width: 0.5px;
        background-color: rgb(255, 255, 255);
        border-radius: 16px;
        box-shadow: rgba(67, 157, 241, 0.1) 0px 1px 10px 0px;
      }
      .box+.box{
        margin-top:10px;
      }
      .wxbtn,
      a{
        position:relative;
        display:block;
        padding:10px 0;
        opacity: 1;
        color:#000;
        font-weight:800;
        text-align:center;
      }
      .chat-word {
        display: block;
        line-height: 1.2;
      }
      a+a{
        &:after{
          content:"";
          position:absolute;
          top:0;
          left:10px;
          right:10px;
          border-top:1px solid rgba(135, 135, 135, 0.38);
        }
        
      }
    }

    @media (max-width: 768px) { 
      .contact-type{ 
        top:auto;
        bottom:0;
        width:80px;
        padding:0;
        .box:first-child{
          position:fixed;
          right: 0;
          width: 80px;
          bottom: 189px;
        }
      }
    }
</style>
